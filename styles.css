:root{
  --bg:#061225;
  --panel: rgba(255,255,255,0.03);
  --soft:#dff6ff;
  --accent:#8ed0ff;
  --muted:#a6c7db;
  --glass: rgba(255,255,255,0.03);
  --card-radius:14px;
  --transition:360ms cubic-bezier(.2,.9,.3,1);
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  color-scheme: dark;
}

/* base reset */
*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0; background: linear-gradient(180deg,#020617 0%, #061225 55%); color:var(--soft);
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  overflow:hidden;
}

/* background layers (parallax) */
#bg{position:fixed; inset:0; z-index:0; pointer-events:none}
.bg-layer{position:absolute; inset:-10%; background-repeat:no-repeat; filter:blur(42px); opacity:0.85; transition:transform 240ms linear}
.layer-a{background:radial-gradient(circle at 20% 30%, rgba(142,208,255,0.06), transparent 18%);}
.layer-b{background:radial-gradient(circle at 80% 70%, rgba(110,208,255,0.04), transparent 22%);}
.layer-c{background:conic-gradient(from 180deg, rgba(120,180,220,0.03), transparent 30%);}

/* confetti canvas */
#confetti-canvas{position:fixed; inset:0; z-index:6; pointer-events:none}

/* app layout */
.app{position:relative; z-index:2; min-height:100vh; display:flex; flex-direction:column; gap:12px; padding:18px 22px;}

/* topbar */
.topbar{display:flex; justify-content:space-between; align-items:center; gap:12px}
.brand{font-weight:700; font-size:18px; color:var(--accent); letter-spacing:0.6px}
.controls{display:flex; gap:8px}
.icon-btn{background:transparent; border:1px solid rgba(255,255,255,0.04); padding:8px 10px; border-radius:10px; cursor:pointer; color:var(--soft)}

/* pager (list of 18 small buttons) */
.pager{display:flex; align-items:center; gap:12px; overflow:auto; padding:8px 0}
.pager-scroll{display:flex; gap:8px}
.pager-btn{min-width:44px; padding:8px 10px; border-radius:10px; border:1px solid rgba(255,255,255,0.03); background:transparent; color:var(--muted); cursor:pointer; transition:transform 140ms}
.pager-btn:hover{transform:translateY(-6px); color:var(--soft)}
.pager-btn.active{background:linear-gradient(90deg, rgba(142,208,255,0.06), rgba(110,208,255,0.03)); color:var(--soft); border-color:rgba(142,208,255,0.12)}

/* pages container */
.pages{position:relative; flex:1; display:block;}
.page{
  position:absolute; inset:80px 22px 70px 22px; border-radius:var(--card-radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: 0 10px 50px rgba(2,6,12,0.6); padding:26px; opacity:0; pointer-events:none; transform:translateY(20px) scale(.995);
  transition: opacity var(--transition), transform var(--transition);
  overflow:auto;
}
.page.show{opacity:1; pointer-events:auto; transform:translateY(0) scale(1)}

/* card */
.card{background:transparent; border-radius:12px; padding:18px}
.hero{display:flex; gap:28px; align-items:center; justify-content:space-between}
.hero-left{flex:1; max-width:640px}
.hero-right{width:360px}
h1{font-size:38px; margin:0 0 12px 0; background:linear-gradient(90deg,var(--accent), #6ed0ff); -webkit-background-clip:text; background-clip:text; color:transparent; letter-spacing:0.6px}
.lead{color:var(--muted); margin-bottom:16px}

/* picture frame */
.pic-frame{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01)); border-radius:12px; padding:10px; border:1px solid rgba(255,255,255,0.02)}
.pic-frame img{width:100%; height:300px; object-fit:cover; border-radius:8px; display:block}
.pic-caption{margin-top:10px; color:var(--muted); font-size:13px}

/* actions */
.actions{display:flex; gap:12px; margin-top:14px}
.btn{background:transparent; border:1px solid rgba(255,255,255,0.04); padding:10px 14px; border-radius:12px; cursor:pointer; color:var(--soft); transition:transform 160ms}
.btn:hover{transform:translateY(-6px)}
.btn.ghost{background:transparent; border-style:dashed}
.btn.small{padding:8px 10px; font-size:14px}
.btn.accent{background:linear-gradient(90deg,var(--accent), #6ed0ff); color:#021028;}

/* card small elements */
.hint{color:var(--muted); font-size:13px; margin-top:10px}
.mini{margin-top:12px; color:var(--muted)}

/* small interactive styles */
.sketch-area{height:180px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); border:1px dashed rgba(255,255,255,0.02); display:flex; align-items:center; justify-content:center; color:var(--muted)}
.chibi{font-size:42px; opacity:0.9; margin-top:12px; transform-origin:center; transition:transform 260ms}
.mini-dog{width:120px; border-radius:8px; margin-top:12px; border:1px solid rgba(255,255,255,0.02)}

/* progress bar */
.progress{width:100%; height:10px; background:rgba(255,255,255,0.02); border-radius:8px; margin-top:10px; overflow:hidden}
.progress .bar{height:100%; background:linear-gradient(90deg,var(--accent), #6ed0ff); border-radius:8px}

/* quiz pills */
.pill{background:transparent; border:1px solid rgba(255,255,255,0.03); padding:8px 12px; border-radius:999px; margin-right:8px; cursor:pointer; color:var(--muted)}

/* letter */
.letter-card{max-width:760px}
.typewriter{min-height:160px; font-family: Georgia, "Times New Roman", serif; color:var(--soft); font-size:18px; line-height:1.6; white-space:pre-wrap; margin-top:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent); padding:12px; border-radius:8px}
.letter-controls{display:flex; gap:10px; margin-top:12px}
.final-note{margin-top:14px; color:var(--muted)}

/* footer */
.footer{display:flex; align-items:center; justify-content:center; gap:10px; color:var(--muted); font-size:12px; margin-top:10px}

/* small screens */
@media (max-width:900px){
  .hero{flex-direction:column}
  .hero-right{width:100%}
  .pic-frame img{height:220px}
  .page{inset:100px 12px 90px 12px}
}
